@page "/newuser"
@layout LoginLayout

<Container Position="Position.Absolute.Top.Is50.Start.Is50.Translate.Middle">
    <Row>
        <Column ColumnSize="ColumnSize.Is4.Is4.WithOffset">
            <Card>
                <CardBody>
                    <CardTitle Size="5">
                        NCI Oncology Data Hub 1.0
                    </CardTitle>
                </CardBody>
                <CardBody>
                    <Validations @ref="@newUserValidationsRef" Mode="ValidationMode.Manual" ValidateOnLoad="false">
                        <Validation Validator="ValidationRule.IsEmail">
                            <Field>
                                <FieldLabel>Email</FieldLabel>
                                <TextEdit @bind-Text="@email" Placeholder="Enter email">
                                    <Feedback>
                                        <ValidationError>Invalid Email</ValidationError>
                                    </Feedback>
                                </TextEdit>
                            </Field>
                        </Validation>
                        <Validation Validator="ValidationRule.IsNotEmpty">
                            <Field>
                                <FieldLabel>Password</FieldLabel>
                                <TextEdit @bind-Text="@password" Placeholder="Enter password" />
                            </Field>
                        </Validation>
                        <Validation Validator="ValidationRule.IsNotEmpty">
                            <Field>
                                <FieldLabel>Confirm Password</FieldLabel>
                                <TextEdit @bind-Text="@confirmPassword" Placeholder="Confirm password" />
                            </Field>
                        </Validation>
                    </Validations>
                </CardBody>
                <CardBody>
                    <Div Class="mt-2" Flex="Flex.JustifyContent.Center">
                        <Button Flex="Flex.JustifyContent.Center" Block Color="Color.Primary" To="/newuser">Activate Account</Button>
                    </Div>
                </CardBody>
                <CardBody>
                    If you need assistance, please contact us at <a color="blue" href="mailto:">email</a>.
                </CardBody>
            </Card>
        </Column>
    </Row>
</Container>

@code {
    private Validations? newUserValidationsRef;
    private string? email;
    private string? password;
    private string? confirmPassword;

    private async Task OnValidSubmit()
    {
        //create a new user
        //var newUser = new User
        //{
        //    Email = email,
        //    Password = password,
        //};
    }
}