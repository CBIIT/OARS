@page "/newuser"
@layout LoginLayout

<Container Position="Position.Absolute.Top.Is50.Start.Is50.Translate.Middle">
    <Row>
        <Column ColumnSize="ColumnSize.Is4.Is4.WithOffset">
            <Card>
                <CardBody>
                    <CardTitle Size="5">
                        Web Reporting 3.0
                    </CardTitle>
                </CardBody>
                <CardBody>
                    <Validations @ref="@newUserValidationsRef" Mode="ValidationMode.Manual" ValidateOnLoad="false">
                        <Validation Validator="ValidationRule.IsNotEmpty">
                            <Field>
                                <FieldLabel>First Name</FieldLabel>
                                <TextEdit @bind-Text="@firstName" Placeholder="Enter first name" />
                            </Field>
                        </Validation>
                        <Validation Validator="ValidationRule.IsNotEmpty">
                            <Field>
                                <FieldLabel>Last Name</FieldLabel>
                                <TextEdit @bind-Text="@lastName" Placeholder="Enter last name" />
                            </Field>
                        </Validation>
                        <Validation Validator="ValidationRule.IsEmail">
                            <Field>
                                <FieldLabel>Email</FieldLabel>
                                <TextEdit @bind-Text="@email" Placeholder="Enter email">
                                    <Feedback>
                                        <ValidationError>Invalid Email</ValidationError>
                                    </Feedback>
                                </TextEdit>
                            </Field>
                        </Validation>
                        <Validation Validator="ValidationRule.IsNotEmpty">
                            <Field>
                                <FieldLabel>Password</FieldLabel>
                                <TextEdit @bind-Text="@password" Placeholder="Enter password" />
                            </Field>
                        </Validation>
                        <Validation Validator="ValidationRule.IsNotEmpty">
                            <Field>
                                <FieldLabel>Confirm Password</FieldLabel>
                                <TextEdit @bind-Text="@confirmPassword" Placeholder="Confirm password" />
                            </Field>
                        </Validation>
                    </Validations>
                </CardBody>
                <CardBody>
                    <Div Class="mt-2" Flex="Flex.JustifyContent.Center">
                        <Button Flex="Flex.JustifyContent.Center" Block Color="Color.Primary" To="/newuser">Request User Creation</Button>
                    </Div>
                </CardBody>
            </Card>
        </Column>
    </Row>
</Container>

@code {
    private Validations? newUserValidationsRef;
    private string? email;
    private string? password;
    private string? confirmPassword;
    private string? firstName;
    private string? lastName;
    private string? phone;
    private async Task OnValidSubmit()
    {
        //create a new user
        //var newUser = new User
        //{
        //    Email = email,
        //    Password = password,
        //    FirstName = firstName,
        //    LastName = lastName,
        //    Phone = phone,
        //    Company = company,
        //    Address = address,
        //    City = city,
        //    State = state,
        //    Zip = zip,
        //    Country = country
        //};
    }
}